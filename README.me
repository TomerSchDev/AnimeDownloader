# Anime Downloader

A WPF-based desktop application for downloading anime episodes from AnimeHeaven with multi-threaded downloading, priority management, and intelligent caching.

## Features

- Automated Episode Scraping using Selenium
- Smart Caching for 24 hours
- Multi-threaded Downloads
- Priority Queue System
- Resume Support for interrupted downloads
- Task Management with real-time progress monitoring
- Episode Details view
- Persistent Logging

## System Requirements

- Windows 10/11
- .NET 8.0 or higher
- Google Chrome browser
- Internet connection

## Installation

1. Download the latest release
2. Extract the archive to your desired location
3. Ensure the Drivers folder contains chromedriver.exe
4. Run AnimeBingeDownloader.exe

## Usage

### Adding a New Download Task

1. Navigate to the New Task tab
2. Enter the AnimeHeaven URL
3. Choose a download directory
4. Click Add to Queue and Start Task

### Managing Tasks

Switch to the Task Manager tab to view all active downloads with real-time progress, see episode counts and status, and manage tasks.

### Viewing Logs

1. Select a task in the Task Manager
2. Click View Selected Task Log
3. Export logs to file for troubleshooting

## Architecture

### Core Components

- TaskViewModel - Manages individual download tasks
- EpisodeTask - Represents individual episode downloads
- TaskCoordinator - Orchestrates scraping and download operations
- ScrapingService - Selenium-based web scraper
- DownloadService - Multi-threaded download manager
- CacheService - JSON-based caching system
- IndexedPriorityQueue - Custom priority queue

### Download Flow

1. Scraping Phase - Selenium navigates and extracts episode links
2. Cache Check - Verifies if valid cached data exists
3. Queue Management - Episodes are added to priority queue
4. Worker Threads - Concurrent download processing
5. Resume Support - Partial downloads resume using HTTP Range headers
6. Completion - Status updates and logs generated

## Storage Locations

- Cache: %LocalAppData%\AnimeDownloader\anime_links_cache.json
- Downloads: %UserProfile%\Downloads\AnimeHeaven\[Anime Title]\

## Known Limitations

- Only supports AnimeHeaven website structure
- Requires visible Chrome window during scraping
- Special episodes are automatically skipped
- Cache expires after 24 hours

## Troubleshooting

### Scraping Fails
- Ensure Chrome browser is installed
- Verify chromedriver.exe is in the Drivers folder
- Check if AnimeHeaven website structure has changed

### Download Errors
- Check internet connection
- Verify sufficient disk space
- Review task logs for specific error messages

## License

This project is intended for educational purposes. Users are responsible for complying with AnimeHeaven's terms of service and copyright laws.

## Credits

Built with WPF (.NET 8.0), Selenium WebDriver, and WebDriverManager.

## Disclaimer

This tool is for personal use only. Downloading copyrighted content may be illegal in your country. Always respect content creators and support official releases.
